<div class="report-form">
  <% if question.present? && question.select.present? %>
    <!-- selectが存在する場合 -->
    <span class="report-item-title mb-2 font-weight-bold"><%= question.select.label_name %></span>
    <% if question.required %><span class="pl-2 font-weight-bold text-danger">必須</span><% end %>
    <br>
    <%= f.fields_for :answers, answer do |m| %>
      <%= m.collection_select(:value, question.select.select_option_strings.all, :option_string, :option_string, { prompt: false }, { class: "form-control", required: question.required }) %>
    <% end %>
  <% else %>
    <!-- selectが存在しない場合（削除された質問など） -->
    <span class="report-item-title mb-2 font-weight-bold"><%= answer.question_name %></span>
    <span class="pl-2 font-weight-bold text-danger">※削除された質問です。この項目は削除されます。</span>
    <br>
    <% if answer.value.present? %>
      <div class="card-text ml-0">
        <%= format_text(answer.value) %>
      </div>
    <% else %>
      <div class="card-text ml-0">
        回答なし
      </div>
    <% end %>
  <% end %>
</div>
